<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Armotek Catalog</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #ffffff;
            --accent-color: #D4AF37;
            --secondary-text: #a0a0a0;
            --danger: #e74c3c;
            --success: #2ecc71;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0; padding: 0; padding-bottom: 80px;
            -webkit-tap-highlight-color: transparent;
        }

        /* –£–ë–†–ê–ù–û –†–ê–ó–ú–´–¢–ò–ï –¶–ï–ù –î–õ–Ø –î–ò–õ–ï–†–û–í */
        .price-value.dealer-price {
            color: var(--accent-color);
            font-weight: bold;
        }

        .view { display: none; padding: 15px; }
        .view.active { display: block; }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #333;
        }

        .main-btn {
            background: var(--accent-color);
            color: #000;
            border: none;
            border-radius: 12px;
            padding: 15px;
            width: 100%;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
        }

        select, input {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            background: #2e2e2e;
            color: white;
            border: 1px solid #444;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .nav-bar {
            position: fixed; bottom: 0; width: 100%;
            background: #1a1a1a; display: flex;
            justify-content: space-around; padding: 10px 0;
            border-top: 1px solid #333;
        }
    </style>
</head>
<body>

    <div id="catalog-view" class="view active">
        <h2 style="color: var(--accent-color)">Armotek</h2>
        <div id="product-list">
            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</p>
        </div>
    </div>

    <div id="checkout-view" class="view">
        <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
        <div id="cart-items" class="card"></div>
        
        <div class="card">
            <label>üìç –í–∞—à –≥–æ—Ä–æ–¥ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –≤ –±–æ—Ç–µ):</label>
            <input type="text" id="order-city" value="–ú–æ—Å–∫–≤–∞" readonly>
            
            <label style="display:block; margin-top:15px;">üí≥ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</label>
            <select id="pay-method">
                <option value="cashless">–ë–µ–∑–Ω–∞–ª–∏—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç (–°—á–µ—Ç)</option>
                <option value="qr">–û–ø–ª–∞—Ç–∞ –ø–æ QR-–∫–æ–¥—É / –°–ë–ü</option>
            </select>
        </div>

        <div style="padding: 10px; color: var(--secondary-text); font-size: 13px;">
            * –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ú–æ—Å–∫–≤–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –ü–æ –†–§ ‚Äî –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º –¢–ö.
        </div>

        <button class="main-btn" onclick="submitOrder()">‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –º–µ–Ω–µ–¥–∂–µ—Ä—É</button>
    </div>

    <div class="nav-bar">
        <button onclick="showView('catalog-view')">üè† –ö–∞—Ç–∞–ª–æ–≥</button>
        <button onclick="showView('checkout-view')">üõí –ö–æ—Ä–∑–∏–Ω–∞</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let cart = [];

        function showView(id) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–¢–∞ —Å–∞–º–∞—è –ª–æ–≥–∏–∫–∞ JS)
        function submitOrder() {
            if (cart.length === 0) {
                alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
                return;
            }

            let data = {
                cart: cart,
                total_price: 15000, // –¢—É—Ç –±—É–¥–µ—Ç —Ç–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞
                city: document.getElementById('order-city').value,
                pay_method: document.getElementById('pay-method').value
            };

            tg.sendData(JSON.stringify(data));
            tg.close();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∞)
        window.onload = () => {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ–¥–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ —Ç–≤–æ–µ–≥–æ inventory.json
            console.log("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ");
        };
    </script>
</body>
</html>
